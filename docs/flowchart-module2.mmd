flowchart TD
    %% ========================================
    %% MODULE 2 - M√âTHODES DE T√âL√âCHARGEMENT
    %% ========================================

    START([üì• MODULE 2<br/>M√©thodes de t√©l√©chargement])

    %% ========================================
    %% M√âTHODE IIIF
    %% ========================================
    subgraph IIIF_FLOW [üñºÔ∏è M√©thode IIIF - International Image Interoperability Framework]
        IIIF_MANIFEST[üîç Retrouver le<br/>manifest.json<br/>sur le site de la<br/>biblioth√®que num√©rique]
        IIIF_ALGO[‚öôÔ∏è Algorithme<br/>Manuscrit_Downloader]
        IIIF_DL[üì• T√©l√©chargement<br/>automatique]
        IIIF_RESULT[‚úÖ Images de<br/>bonne qualit√©<br/>Format: JPG/PNG<br/>R√©solution: 300-600 DPI]

        IIIF_MANIFEST --> IIIF_ALGO
        IIIF_ALGO --> IIIF_DL
        IIIF_DL --> IIIF_RESULT
    end

    %% ========================================
    %% M√âTHODE PDF
    %% ========================================
    subgraph PDF_FLOW [üìÑ M√©thode PDF Direct]
        PDF_SITE[üåê T√©l√©chargement<br/>direct depuis site<br/>des biblioth√®ques<br/>num√©riques]
        PDF_DL[üì• T√©l√©chargement<br/>du PDF]
        PDF_EXTRACT[üì§ Extraction<br/>des images]
        PDF_RESULT[‚ö†Ô∏è Images de qualit√©<br/>variable<br/>D√©pend du PDF source]

        PDF_SITE --> PDF_DL
        PDF_DL --> PDF_EXTRACT
        PDF_EXTRACT --> PDF_RESULT
    end

    %% ========================================
    %% M√âTHODES COMPLEXES
    %% ========================================
    subgraph COMPLEXE_FLOW [‚öôÔ∏è M√©thodes Complexes]
        COMPLEXE_DECISION{Type de<br/>m√©thode ?}

        %% Sous-branche Manuelle
        MANUEL[üë§ M√©thode Manuelle]
        MANUEL_DL[üì• T√©l√©chargement<br/>manuel page par page<br/>clic droit + enregistrer]
        MANUEL_RESULT[‚ö†Ô∏è Images de qualit√©<br/>tr√®s disparates<br/>Chronophage]

        %% Sous-branche Hexad√©cimale
        HEXA[üî¢ M√©thode Hexad√©cimale]
        HEXA_ALGO[‚öôÔ∏è Algorithme<br/>British_Library]
        HEXA_DL[üì• T√©l√©chargement<br/>via URLs hexad√©cimales]
        HEXA_RESULT[‚úÖ Images de tr√®s<br/>bonne qualit√©<br/>R√©solution √©lev√©e]

        %% Sous-branche Tuiles
        TUILES[üß© M√©thode des Tuiles]
        TUILES_ALGO[‚öôÔ∏è Algorithme perdu<br/>Reconstruction d'image<br/>√† partir de tuiles]
        TUILES_DL[üì• T√©l√©chargement<br/>et assemblage]
        TUILES_RESULT[‚≠ê Images d'extr√™mement<br/>bonne qualit√©<br/>Haute r√©solution]

        COMPLEXE_DECISION -->|Manuel| MANUEL
        COMPLEXE_DECISION -->|Hexad√©cimal| HEXA
        COMPLEXE_DECISION -->|Tuiles| TUILES

        MANUEL --> MANUEL_DL
        MANUEL_DL --> MANUEL_RESULT

        HEXA --> HEXA_ALGO
        HEXA_ALGO --> HEXA_DL
        HEXA_DL --> HEXA_RESULT

        TUILES --> TUILES_ALGO
        TUILES_ALGO --> TUILES_DL
        TUILES_DL --> TUILES_RESULT
    end

    %% ========================================
    %% POINT DE CONVERGENCE
    %% ========================================
    CONVERGENCE[‚òÅÔ∏è Service Cloud Universitaire<br/>SEAFILE<br/>Stockage centralis√©]

    OUTPUT([üì§ SORTIE MODULE 2<br/>Images pr√™tes pour traitement])

    %% ========================================
    %% CONNEXIONS PRINCIPALES
    %% ========================================
    START -->|Source: MODULE 1| IIIF_FLOW
    START -->|Source: MODULE 1| PDF_FLOW
    START -->|Source: MODULE 1| COMPLEXE_FLOW

    IIIF_RESULT -->|Export local ‚Üí Cloud| CONVERGENCE
    PDF_RESULT -->|Export local ‚Üí Cloud| CONVERGENCE
    MANUEL_RESULT -->|Export local ‚Üí Cloud| CONVERGENCE
    HEXA_RESULT -->|Export local ‚Üí Cloud| CONVERGENCE
    TUILES_RESULT -->|Export local ‚Üí Cloud| CONVERGENCE

    CONVERGENCE --> OUTPUT

    %% ========================================
    %% ANNOTATIONS
    %% ========================================
    note1[üí° IIIF:<br/>M√©thode recommand√©e<br/>Standard international<br/>Automatisable]
    note2[üí° M√©thode des Tuiles:<br/>Qualit√© maximale<br/>Complexe √† impl√©menter<br/>Algorithme √† recr√©er]
    note3[üí° British Library:<br/>Sp√©cifique √† certains sites<br/>Format hexad√©cimal des URLs<br/>Script Python disponible]
    note4[üí° Stockage Seafile:<br/>Organis√© par ID manuscrit<br/>M√©tadonn√©es incluses<br/>Acc√®s s√©curis√©]

    IIIF_RESULT -.-> note1
    TUILES_RESULT -.-> note2
    HEXA_RESULT -.-> note3
    CONVERGENCE -.-> note4

    %% ========================================
    %% COMPARAISON QUALIT√â
    %% ========================================
    subgraph QUALITY [üìä Comparaison Qualit√©]
        Q1[‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Tuiles - Excellente]
        Q2[‚≠ê‚≠ê‚≠ê‚≠ê Hexad√©cimale - Tr√®s bonne]
        Q3[‚≠ê‚≠ê‚≠ê IIIF - Bonne]
        Q4[‚≠ê‚≠ê PDF - Variable]
        Q5[‚≠ê Manuelle - Disparate]
    end

    %% ========================================
    %% STYLES
    %% ========================================
    classDef startEnd fill:#4caf50,stroke:#2e7d32,stroke-width:3px,color:#fff
    classDef decision fill:#ffeb3b,stroke:#f57f17,stroke-width:2px
    classDef iiif fill:#e3f2fd,stroke:#1565c0,stroke-width:2px
    classDef pdf fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef manuel fill:#ffcdd2,stroke:#c62828,stroke-width:2px
    classDef hexa fill:#e1bee7,stroke:#8e24aa,stroke-width:2px
    classDef tuiles fill:#c8e6c9,stroke:#388e3c,stroke-width:2px
    classDef convergence fill:#bbdefb,stroke:#1976d2,stroke-width:3px
    classDef note fill:#fff9c4,stroke:#f57f17,stroke-width:1px,stroke-dasharray: 5 5
    classDef excellent fill:#a5d6a7,stroke:#2e7d32,stroke-width:2px
    classDef warning fill:#ffab91,stroke:#d84315,stroke-width:2px

    class START,OUTPUT startEnd
    class COMPLEXE_DECISION decision
    class IIIF_MANIFEST,IIIF_ALGO,IIIF_DL,IIIF_RESULT iiif
    class PDF_SITE,PDF_DL,PDF_EXTRACT,PDF_RESULT pdf
    class MANUEL,MANUEL_DL,MANUEL_RESULT manuel
    class HEXA,HEXA_ALGO,HEXA_DL,HEXA_RESULT hexa
    class TUILES,TUILES_ALGO,TUILES_DL,TUILES_RESULT tuiles
    class CONVERGENCE convergence
    class note1,note2,note3,note4 note
    class TUILES_RESULT,HEXA_RESULT excellent
    class PDF_RESULT,MANUEL_RESULT warning

    style IIIF_FLOW fill:#e3f2fd,stroke:#1565c0,stroke-width:2px
    style PDF_FLOW fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style COMPLEXE_FLOW fill:#f3e5f5,stroke:#6a1b9a,stroke-width:2px
    style QUALITY fill:#f5f5f5,stroke:#616161,stroke-width:2px,stroke-dasharray: 3 3
